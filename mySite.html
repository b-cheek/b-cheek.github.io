<!DOCTYPE html>
<html>
<head>
    <title>Brayden Cheek</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link rel="stylesheet" href="mySite.css">
</head>
<body class="dark-mode">
    <script>
        // The debounce function receives our function as a parameter
        const debounce = (fn) => {
        // This holds the requestAnimationFrame reference, so we can cancel it if we wish
        let frame;

        // The debounce function returns a new function that can receive a variable number of arguments
        return (...params) => {
            // If the frame variable has been defined, clear it now, and queue for next frame
            if (frame) {
            cancelAnimationFrame(frame);
            }

            // Queue our function call for the next frame
            frame = requestAnimationFrame(() => {
            // Call our function and pass any params we received
            fn(...params);
            });
        };
        };

        // Reads out the scroll position and stores it in the data attribute
        // so we can use it in our stylesheets
        const storeScroll = () => {
        document.documentElement.dataset.scroll = window.scrollY;
        };

        // Listen for new scroll events, here we debounce our `storeScroll` function
        document.addEventListener("scroll", debounce(storeScroll));

        // Update scroll position for first time
        storeScroll();
    </script>
    <!-- <div id="top-of-site-pixel-anchor"></div> -->
    <!-- <script>
        if (
            "IntersectionObserver" in window &&
            "IntersectionObserverEntry" in window &&
            "intersectionRatio" in window.IntersectionObserverEntry.prototype
        ) {
        let observer = new IntersectionObserver(entries => {
            if (entries[0].boundingClientRect.y < 0) {
                document.body.classList.add("header-not-at-top");
            } else {
                document.body.classList.remove("header-not-at-top");
            }
        });
        observer.observe(document.querySelector("#top-of-site-pixel-anchor"));
        }
    </script> -->
    </script>
    <div id="header" class="dark-mode">
        <span id="firstname">\Brayden</span><span id="lastname">Cheek</span><span class="blinking-cursor">_</span>
        <ul id="topnav" class="dark-mode">
            <li><a class="active" href="#ov">Overview</a></li>
            <li><a class="" href="#am">About Me</a></li>
            <li><a class="" href="#pp">Personal Projects</a></li>
            <li><a class="" href="#ex">Experience</a></li>
            <li><a class="" href="#ed">Education</a></li>
        </ul>
        <label id="nav-lbl" class="dark-mode">
            <input id="opt-page-check" type="checkbox">
            <span id="nav-icon">
                <div id="top-bar" class="options-bar"></div>
                <div id="mid-bar" class="options-bar"></div>
                <div id="bot-bar" class="options-bar"></div>
            </span>
            <div id="option-page">
                <div><a class="active" href="#ov" onclick="uncheckPage()">Overview</a></div>
                <div><a class="" href="#am" onclick="uncheckPage()">About Me</a></div>
                <div><a class="" href="#pp" onclick="uncheckPage()">Personal Projects</a></div>
                <div><a class="" href="#ex" onclick="uncheckPage()">Experience</a></div>
                <div><a class="" href="#ed" onclick="uncheckPage()">Education</a></div>
            </div>
            <script>
                if (window.innerWidth > 770) document.getElementById("option-page").classList.toggle("long");
            </script>
        </label>
        <script>
            function uncheckPage() {
                document.getElementById("opt-page-check").checked = false;
            }
        </script>
        <button id="theme-btn" class="dark-mode" onclick="themeSwitch()">
            <span id="theme-switch" class="material-icons dark-mode">light_mode</span>
        </button>
        <script>
            function themeSwitch() {
                if (document.body.className==="dark-mode") {
                    document.getElementById("theme-switch").innerHTML="dark_mode";
                    var elements = document.getElementsByClassName("dark-mode");
                    var len = elements.length;
                    for (var i=0; i<len; i++) {
                        elements[0].className = elements[0].className.replace("dark", "light")
                    }
                }
                else if (document.body.className==="light-mode") {
                    document.getElementById("theme-switch").innerHTML="light_mode";
                    var elements = document.getElementsByClassName("light-mode");
                    var len = elements.length;
                    for (var i=0; i<len; i++) {
                        elements[0].className = elements[0].className.replace("light", "dark");
                    }
                }
                document.getElementById("theme-btn").classList.toggle("disabled");
                setTimeout(function() {
                    document.getElementById("theme-btn").classList.toggle("disabled");
                }, 1000);
            }
        </script>
        <script>
            var btnList = document.getElementById("topnav");
            var btns = btnList.getElementsByTagName("a");
            for (var i=0; i<btns.length; i++) {
                btns[i].addEventListener("click", function() {
                    var cur = document.getElementsByClassName("active");
                    if (cur.length>0) cur[0].className = cur[0].className.replace("active", "");
                    this.className += "active";
                })
            }
        </script>
    </div>
    <div id="overview" class="sect-head dark-mode">
        <div id="ov" class="anchor"></div>
        Overview
        <div class="underline dark-mode"></div>
    </div>
    <div id="abt-me" class="sect-head dark-mode">
        <div id="am" class="anchor"></div>
        About Me
        <div class="scroll underline dark-mode"></div>
    </div>
    <div id="personal-proj" class="sect-head dark-mode">
        <div id="pp" class="anchor"></div>
        Personal Projects
        <div class="scroll underline dark-mode"></div>
    </div>
    <div id="exp" class="sect-head dark-mode">
        <div id="ex" class="anchor"></div>
        Experience
        <div class="scroll underline dark-mode"></div>
    </div>
    <div class="sect-content dark-mode">
        <!-- <img src="https://media-exp1.licdn.com/dms/image/C561BAQHRF3ANePBm9A/company-background_10000/0/1551215180620?e=2159024400&v=beta&t=BbDNKWvNXDp_00uJL6P2VyI2ldv8NdN162kjLkGgxNU"> -->
        <img id="iso-logo" src="https://media-exp3.licdn.com/dms/image/C4E0BAQEefxwwtRx5yg/company-logo_200_200/0/1551453606381?e=2159024400&v=beta&t=-Pwfw_jqJPfRkHpkAZcnHWawNLEoRaCqNsCwbXsPAPw">
        <span id="ISO Group - Supply Chain Partner" class="content-head"></span>
        <!-- <img id="myID" src="meSticker.png"> -->
        <div id="cir"></div>
    </div>
    <div id="edu" class="sect-head dark-mode">
        <div id="ed" class="anchor"></div>
        Education
        <div class="scroll underline dark-mode"></div>
    </div>
    <script>
        // set underline widths, dynamic content appears
        document.addEventListener("scroll", function() {
            var elements = document.getElementsByClassName("scroll underline");
            for (var i=0; i<elements.length; i++) {
                var parentStyle = getComputedStyle(elements[i].parentElement);
                var topBuffer = 100;
                var underlineLoadRange = 300;
                var loadEndPos = parseInt(parentStyle.top)-(parseInt(parentStyle.height)+topBuffer);
                var loadStartPos = loadEndPos - underlineLoadRange;
                if ((window.scrollY-loadStartPos) > 0) {
                    elements[i].style.width = (100*((window.scrollY-loadStartPos)/underlineLoadRange).toString() + "%");
                    if (!elements[i].parentElement.classList.contains("full-bar") && (window.scrollY-loadStartPos) > underlineLoadRange) {
                        elements[i].parentElement.className += " full-bar";
                        var typeText = elements[i].parentElement.nextElementSibling;
                        typeText = findClass(typeText, "content-head");
                        if (typeText !== null) setTimeout(function() {
                            writeText(typeText, typeText.id);
                        }, 1000);
                    }
                }
                else elements[i].style.width = 0;
            }
        });

        function findClass(typeText, classTarget) {
            if (typeText.classList.contains(classTarget)) return typeText;
            if (typeText.children.length>0) return findClass(typeText.children[0], classTarget);
            if (typeText.nextElementSibling !== null) return findClass(typeText.nextElementSibling, classTarget);
            return null;
        }

        function writeText(typeText, textStore) {
            setTimeout(function() {
                typeText.innerHTML = typeText.innerHTML.substring(0,typeText.innerHTML.length-1);
                typeText.innerHTML += textStore[0] + "|";
                if (textStore.length>1) writeText(typeText, textStore.substring(1));
                else {
                    setTimeout(function() {
                        typeText.innerHTML = typeText.innerHTML.substring(0,typeText.innerHTML.length-1);
                    }, 500);
                }
            }, Math.random()*130);
        }

    </script>
    <script>
        class cirObj {
            constructor(width, height, top, right, xSpeed, ySpeed) {
                this.width = width;
                this.height = height;
                this.top = top;
                this.right = right;
                this.ySpeed = ySpeed;
                this.xSpeed = xSpeed;
                this.bumpIn = false;
                this.bumpOut = false;
                this.move = true;
                this.bumpTimer = 0;
                this.ease = 1;
            }

            init() {
                document.getElementsByClassName("sect-content")[0].innerHTML += "<div class=\"cir\"></div>";
            }
        }

        var cirList = [
            new cirObj()
        ];

        var active = false;
        var runner = 0;
        var moveSpeed = 1; //ms per pixel shift
        var ySpeed = 1;
        var xSpeed = 1;
        var bumpIn = false;
        var bumpOut = false;
        var move = true;
        var bumpTimer = 0;
        var ease = 1;
        var cir = document.getElementById("cir");
        var cirStyle = getComputedStyle(cir);
        var r = cirStyle.height;
        var bumpRY = Math.round((0.7*parseInt(r))/ySpeed)*ySpeed;
        document.addEventListener("scroll", function() {
            if (!active) {
                if (window.scrollY>400 && window.scrollY<2000) {
                    active = true;
                    runner = setInterval(function() {
                        console.log(bumpTimer, ease);
                        if (bumpTimer>0) {
                            if (bumpTimer%Math.floor(ease)==0) {
                                cir.style.top = (parseInt(cirStyle.top) + ySpeed).toString() + "px";
                                move = true;
                            }
                            else {
                                move = false;
                                cir.style.right = (parseInt(cirStyle.right) + xSpeed).toString() + "px";
                            }
                        }
                        else {
                            cir.style.top = (parseInt(cirStyle.top) + ySpeed).toString() + "px";
                            cir.style.right = (parseInt(cirStyle.right) + xSpeed).toString() + "px";
                        }
                        if (bumpIn || bumpOut || parseInt(cirStyle.top)>parseInt(getComputedStyle(cir.parentElement).height)-parseInt(cirStyle.height)) {
                            bumpTimer++;
                            if (!(bumpIn || bumpOut)) bumpIn = true;
                            else if (bumpIn && move) {
                                cir.style.height = (parseInt(cirStyle.height) - ySpeed).toString() + "px";
                                cir.style.width = (parseInt(cirStyle.width) + ySpeed).toString() + "px";
                                cir.style.borderBottomRightRadius = (parseInt(cirStyle.borderBottomRightRadius) - ySpeed).toString() + "px";
                                cir.style.borderBottomLeftRadius = (parseInt(cirStyle.borderBottomLeftRadius) - ySpeed).toString() + "px";
                                ease += 0.25;
                                if (parseInt(cirStyle.height) == bumpRY) {
                                    bumpIn = false;
                                    bumpOut = true;
                                    ySpeed*=-1;
                                }
                            }
                            else if (bumpOut && move) {
                                cir.style.height = (parseInt(cirStyle.height) - ySpeed).toString() + "px";
                                cir.style.width = (parseInt(cirStyle.width) + ySpeed).toString() + "px";
                                cir.style.borderBottomRightRadius = (parseInt(cirStyle.borderBottomRightRadius) - ySpeed).toString() + "px";
                                cir.style.borderBottomLeftRadius = (parseInt(cirStyle.borderBottomLeftRadius) - ySpeed).toString() + "px";
                                ease -= 0.25;
                                if (cirStyle.height === r) {
                                    bumpOut = false;
                                    bumpTimer = 0;
                                }
                            }
                            // console.log(cir.getAnimations());
                            // cirStyle.animation = cirStyle.substring(0,cirStyle.length-2) + 
                        }
                        if (parseInt(cirStyle.top)<0) {
                            ySpeed *= -1;
                            document.getElementById("cir").className = "u-squish";
                        }
                        if (parseInt(cirStyle.right)>parseInt(getComputedStyle(cir.parentElement).width)-parseInt(cirStyle.width)) {
                            xSpeed*=-1;
                            document.getElementById("cir").className = "l-squish";
                        }
                        if (parseInt(cirStyle.right)<0) {
                            xSpeed *= -1;
                            document.getElementById("cir").className = "r-squish";
                        }
                    }, moveSpeed);
                }
            }
            else if (window.scrollY<400 || window.scrollY>2000) {
                clearInterval(runner);
                active = false;
            }
        });
    </script>
    <div id="contact-info" class="dark-mode">
        <span>Email: <a href="mailto:bwc1024@hotmail.com">bwc1024@hotmail.com</a></span>
        <span>Phone: <a href="tel:13213129592">+1 (321) 312-9592</a></span>
    </div>
    <div class="whitespace"></div>


</body>
</html>
